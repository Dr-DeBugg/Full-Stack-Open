{"version":3,"sources":["components/NimiFormi.js","components/palvelimenMetodit.js","components/ListaJaSubmit.js","components/Tulostus.js","components/Filtteri.js","components/Notification.js","components/App.js","index.js"],"names":["NimiFormi","_ref","newName","setNewName","text","react_default","a","createElement","value","onChange","event","target","baseUrl","palvelimenMetodit","axios","get","then","response","data","newObject","post","id","delete","concat","nimiObjekti","put","ListaJaSubmit","props","persons","newNumber","setPersons","setNewNumber","setFilter","setErrorMessage","setColor","submitattaessa","name","number","setTimeout","catch","error","console","log","onSubmit","preventDefault","array","filter","person","length","window","confirm","existing","map","components_NimiFormi","type","Button","handleClick","Fragment","onClick","Tulostus","_ref2","uusiMuutos","toString","toLowerCase","includes","x","key","Tulostus_Button","removeId","poistonFunktionaalisuus","Filtteri","Notification","message","color","className","style","OtsikonTulostus","aihe","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","errorMessage","_useState11","_useState12","useEffect","App_OtsikonTulostus","components_Notification","components_Filtteri","components_ListaJaSubmit","components_Tulostus","ReactDOM","render","components_App","document","getElementById"],"mappings":"oLAgBeA,EAdG,SAAAC,GAAiC,IAA/BC,EAA+BD,EAA/BC,QAASC,EAAsBF,EAAtBE,WAAYC,EAAUH,EAAVG,KAMvC,OAEEC,EAAAC,EAAAC,cAAA,WACGH,EADH,KACUC,EAAAC,EAAAC,cAAA,SAAOC,MAAON,EAASO,SAPf,SAACC,GACnBP,EAAWO,EAAMC,OAAOH,4BCJtBI,EAAU,eAwBDC,EAtBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAoB5BL,EAjBA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAe5BL,EAZA,SAACQ,GAGd,OADgBP,IAAMQ,OAAN,GAAAC,OAAgBX,EAAhB,KAAAW,OAA2BF,IAC5BL,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAS5BL,EANA,SAACW,GACd,IAAIH,EAAKG,EAAYH,GAErB,OADgBP,IAAMW,IAAN,GAAAF,OAAaX,EAAb,KAAAW,OAAwBF,GAAMG,GAC/BR,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QC8E5BQ,EAhGO,SAACC,GAErB,IAAIC,EAAUD,EAAMC,QAChB1B,EAAUyB,EAAMzB,QAChB2B,EAAYF,EAAME,UAClBC,EAAaH,EAAMG,WACnB3B,EAAawB,EAAMxB,WACnB4B,EAAeJ,EAAMI,aACrBC,EAAYL,EAAMK,UAClBC,EAAkBN,EAAMM,gBACxBC,EAAWP,EAAMO,SA8CfC,EAAiB,WAOrBtB,EANgB,CACduB,KAAMlC,EACNmC,OAAQR,IAMPb,KAAK,SAAAC,GACJa,EAAWF,EAAQL,OAAON,IAC1Bd,EAAW,IACX4B,EAAa,IACbC,EAAU,IACVE,EAAS,SACTD,EAAe,GAAAV,OAAIrB,EAAJ,6CACfoC,WAAW,WACTL,EAAgB,OACf,OAEJM,MAAM,SAAAC,GACLN,EAAS,OACTD,EAAe,GAAAV,OAAIiB,EAAMvB,SAASC,KAAKsB,QACvCF,WAAW,WACTL,EAAgB,OACf,KACHQ,QAAQC,IAAIF,EAAMvB,SAASC,SAIjC,OAEAb,EAAAC,EAAAC,cAAA,QAAMoC,SA3EiB,SAACjC,GAEtBA,EAAMkC,iBACN,IAAIC,EAAQjB,EAAQkB,OAAO,SAAAC,GAAM,OAAIA,EAAOX,OAASlC,IAGrD,GAAkB,IAAf2C,EAAMG,OA+BP,OACEb,IA/BF,GAAGc,OAAOC,QAAP,GAAA3B,OAAkBrB,EAAlB,sEAA8F,CAC/F,IAAIiD,EAAWN,EAAM,GAEfrB,EAAc,CAClBY,KAAMlC,EACNmC,OAAQR,EACRR,GAAI8B,EAAS9B,IAGfR,EACUW,GACPR,KAAK,SAAAC,GACJa,EAAWF,EAAQwB,IAAI,SAAAL,GAAM,OAAIA,EAAO1B,KAAO8B,EAAS9B,GAAK0B,EAAS9B,KACtEd,EAAW,IACX4B,EAAa,IACbC,EAAU,MAEXO,MAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZN,EAAS,OACTD,EAAe,4BAAAV,OAA6BrB,EAA7B,4CAEjBgC,EAAS,SACTD,EAAe,GAAAV,OAAIrB,EAAJ,4CACfoC,WAAW,WACTL,EAAgB,OACf,QA2CT5B,EAAAC,EAAAC,cAAC8C,EAAD,CAAWnD,QAASA,EAASC,WAAYA,EAAYC,KAAK,SAC1DC,EAAAC,EAAAC,cAAC8C,EAAD,CAAWnD,QAAS2B,EAAW1B,WAAY4B,EAAc3B,KAAK,WAC9DC,EAAAC,EAAAC,cAAA,UAAQ+C,KAAK,UAAb,SC3FEC,EAAS,SAAAtD,GAAmB,IAAjBuD,EAAiBvD,EAAjBuD,YACf,OACEnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmD,SAAA,KACEpD,EAAAC,EAAAC,cAAA,UAAQmD,QAASF,GAAjB,YA0CSG,EAjBE,SAAAC,GAAkE,IAAhEhC,EAAgEgC,EAAhEhC,QAASiC,EAAuDD,EAAvDC,WAAY/B,EAA2C8B,EAA3C9B,WAAYI,EAA+B0B,EAA/B1B,SAAUD,EAAqB2B,EAArB3B,gBAQ5D,OAFyBL,EAAQkB,OAJT,SAASC,GAC/B,OAAOA,EAAOX,KAAK0B,WAAWC,cAAcC,SAASH,EAAWC,WAAWC,iBAOxEX,IAAI,SAAAa,GAAC,OAAI5D,EAAAC,EAAAC,cAAA,KAAG2D,IAAKD,EAAE7B,MAAO6B,EAAE7B,KAAnB,IAA0B6B,EAAE5B,OACtChC,EAAAC,EAAAC,cAAC4D,EAAD,CAAQX,YAAa,kBA/BK,SAACY,EAAUhC,EAAMN,EAAYF,EAASM,EAAUD,GAC1EgB,OAAOC,QAAP,UAAA3B,OAAyBa,EAAzB,QACFvB,EACUuD,GACPpD,KAAK,SAAAC,GACJa,EAAWF,EAAQkB,OAAO,SAAAC,GAAM,OAAIA,EAAO1B,KAAO+C,OAEnD7B,MAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZN,EAAS,OACTD,EAAe,4BAAAV,OAA6Ba,EAA7B,4CAEjBF,EAAS,SACTD,EAAe,GAAAV,OAAIa,EAAJ,mDACfE,WAAW,WACTL,EAAgB,OACf,MAgBDoC,CAAwBJ,EAAE5C,GAAI4C,EAAE7B,KAAMN,EAAYF,EAASM,EAAUD,UCxB5DqC,EAjBA,SAAArE,GAAkD,IAAhD4D,EAAgD5D,EAAhD4D,WAAYjC,EAAoC3B,EAApC2B,QAASI,EAA2B/B,EAA3B+B,UAAWF,EAAgB7B,EAAhB6B,WAOjD,OACEzB,EAAAC,EAAAC,cAAA,2BACeF,EAAAC,EAAAC,cAAA,SACbC,MAAOqD,EACPpD,SATiB,SAACC,GACpBsB,EAAUtB,EAAMC,OAAOH,OACvBmD,EAAS,CAAC/B,UAASiC,aAAY/B,oBCepByC,EApBM,SAAAtE,GAAsB,IAApBuE,EAAoBvE,EAApBuE,QAASC,EAAWxE,EAAXwE,MAC9B,OAAgB,OAAZD,EACK,KAEK,OAAVC,EAEApE,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,SACZF,GAMLnE,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,QAAQC,MAAO,CAAEF,MAAOA,IACpCD,ICRDI,EAAkB,SAAA3E,GAAY,IAAV4E,EAAU5E,EAAV4E,KACxB,OACExE,EAAAC,EAAAC,cAAA,UAAKsE,IAgCMC,EA5BH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTnD,EADSqD,EAAA,GACAnD,EADAmD,EAAA,GAAAG,EAEgBJ,mBAAS,IAFzBK,EAAAH,OAAAC,EAAA,EAAAD,CAAAE,EAAA,GAERlF,EAFQmF,EAAA,GAEClF,EAFDkF,EAAA,GAAAC,EAGoBN,mBAAS,IAH7BO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGRzD,EAHQ0D,EAAA,GAGGxD,EAHHwD,EAAA,GAAAC,EAIkBR,mBAAS,IAJ3BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAIR3B,EAJQ4B,EAAA,GAIIzD,EAJJyD,EAAA,GAAAC,EAK0BV,mBAAS,MALnCW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAKRE,EALQD,EAAA,GAKM1D,EALN0D,EAAA,GAAAE,EAMYb,mBAAS,MANrBc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAMRpB,EANQqB,EAAA,GAMD5D,EANC4D,EAAA,GAgBhB,OARAC,oBAAU,WACRlF,IAEGG,KAAK,SAAAC,GACJa,EAAWb,MAEd,IAGDZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyF,EAAD,CAAiBnB,KAAK,eACtBxE,EAAAC,EAAAC,cAAC0F,EAAD,CAAczB,QAASoB,EAAcnB,MAAOA,IAC5CpE,EAAAC,EAAAC,cAAC2F,EAAD,CAAUrC,WAAYA,EAAYjC,QAASA,EAASI,UAAWA,IAC/D3B,EAAAC,EAAAC,cAACyF,EAAD,CAAiBnB,KAAK,cACtBxE,EAAAC,EAAAC,cAAC4F,EAAD,CAAevE,QAASA,EAAS1B,QAASA,EAAS2B,UAAWA,EAAWgC,WAAYA,EAAY/B,WAAYA,EAAY3B,WAAYA,EAAY4B,aAAcA,EAAcC,UAAWA,EAAWC,gBAAiBA,EAAiBC,SAAUA,EAAUuC,MAAOA,IAChQpE,EAAAC,EAAAC,cAACyF,EAAD,CAAiBnB,KAAK,YACtBxE,EAAAC,EAAAC,cAAC6F,EAAD,CAAUxE,QAASA,EAASiC,WAAYA,EAAY/B,WAAYA,EAAYG,gBAAiBA,EAAiBC,SAAUA,6BCjC9HmE,IAASC,OACPjG,EAAAC,EAAAC,cAACgG,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.3c165f49.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst NimiFormi = ({newName, setNewName, text}) => {\r\n\r\n  const nimenMuutos = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n \r\n  return (\r\n    \r\n    <div>\r\n      {text}: <input value={newName} onChange={nimenMuutos}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NimiFormi","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  \r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (nimiObjekti) => {\r\n  var id = nimiObjekti.id\r\n  const request = axios.put(`${baseUrl}/${id}`, nimiObjekti)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update}","import React from 'react'\r\nimport NimiFormi from './NimiFormi'\r\nimport palvelimenMetodit from './palvelimenMetodit'\r\n\r\nconst ListaJaSubmit = (props) => {\r\n\r\n  let persons = props.persons\r\n  let newName = props.newName\r\n  let newNumber = props.newNumber\r\n  let setPersons = props.setPersons\r\n  let setNewName = props.setNewName\r\n  let setNewNumber = props.setNewNumber\r\n  let setFilter = props.setFilter\r\n  let setErrorMessage = props.setErrorMessage\r\n  let setColor = props.setColor\r\n  \r\n\r\n  const NimiOnListalla = (event) => {\r\n\r\n    event.preventDefault()\r\n    var array = persons.filter(person => person.name === newName)\r\n\r\n  \r\n    if(array.length===1){\r\n      if(window.confirm(`${newName} is already added to phonebook - replace old number with new one?`)){\r\n        var existing = array[0]\r\n\r\n        const nimiObjekti = {\r\n          name: newName,\r\n          number: newNumber,\r\n          id: existing.id,\r\n        }\r\n\r\n        palvelimenMetodit\r\n          .update(nimiObjekti)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== existing.id ? person : response))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setFilter('')\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n            setColor('red')\r\n            setErrorMessage(`ERROR: information about ${newName} has already been removed from server`)\r\n          })\r\n          setColor('green')\r\n          setErrorMessage(`${newName}'s phonenumber was successfully updated`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 4000)\r\n      }\r\n    }\r\n    else {\r\n      return(\r\n        submitattaessa()\r\n      )\r\n    }\r\n  }\r\n\r\n  const submitattaessa = () => {\r\n    const nimiObj = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n\r\n    palvelimenMetodit\r\n      .create(nimiObj)\r\n      .then(response => {\r\n        setPersons(persons.concat(response))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setFilter('')\r\n        setColor('green')\r\n        setErrorMessage(`${newName} was successfully added to the Phonebook`)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n      })\r\n      .catch(error => {\r\n        setColor('red')\r\n        setErrorMessage(`${error.response.data.error}`)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n        console.log(error.response.data)\r\n      })\r\n  }\r\n\r\n  return (\r\n\r\n  <form onSubmit={NimiOnListalla}>\r\n    <NimiFormi newName={newName} setNewName={setNewName} text='name'/>\r\n    <NimiFormi newName={newNumber} setNewName={setNewNumber} text='number'/>\r\n    <button type=\"submit\">add</button>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default ListaJaSubmit\r\n","import React from'react'\r\nimport palvelimenMetodit from './palvelimenMetodit'\r\n\r\n\r\nconst Button = ({handleClick}) => {\r\n  return (\r\n    <>\r\n      <button onClick={handleClick}>delete</button>\r\n    </>\r\n  )\r\n}\r\n\r\nconst poistonFunktionaalisuus = (removeId, name, setPersons, persons, setColor, setErrorMessage) => {\r\n  if (window.confirm(`Delete ${name}?`)){\r\n    palvelimenMetodit\r\n      .remove(removeId)\r\n      .then(response => {\r\n        setPersons(persons.filter(person => person.id !== removeId))\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        setColor('red')\r\n        setErrorMessage(`ERROR: information about ${name} has already been removed from server`)\r\n      })\r\n      setColor('green')\r\n      setErrorMessage(`${name} was successfully *DELETED* from the Phonebook`)\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 4000)\r\n  }\r\n}\r\n\r\nconst Tulostus = ({persons, uusiMuutos, setPersons, setColor, setErrorMessage}) => {\r\n\r\n  const filtteriFunktio = function(person) {\r\n    return person.name.toString().toLowerCase().includes(uusiMuutos.toString().toLowerCase())\r\n  }\r\n\r\n  var sisaltyvatHenkilot = persons.filter(filtteriFunktio)\r\n\r\n  return (\r\n    sisaltyvatHenkilot\r\n      .map(x => <p key={x.name}>{x.name} {x.number}\r\n      <Button handleClick={() => \r\n        poistonFunktionaalisuus(x.id, x.name, setPersons, persons, setColor, setErrorMessage)}>\r\n      </Button></p>)\r\n  )\r\n}\r\n  \r\nexport default Tulostus","import React from 'react'\r\nimport Tulostus from './Tulostus'\r\n\r\nconst Filtteri = ({uusiMuutos, persons, setFilter, setPersons}) => {\r\n\r\n  const filterMuutos = (event) => {\r\n    setFilter(event.target.value)\r\n    Tulostus({persons, uusiMuutos, setPersons})\r\n  }\r\n\r\n  return( \r\n    <div>\r\n      filter with: <input \r\n      value={uusiMuutos}\r\n      onChange={filterMuutos}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n  export default Filtteri\r\n  ","import React from 'react'\r\n\r\nconst Notification = ({message, color}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  if (color === null){\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n  return (\r\n    <div className=\"error\" style={{ color: color }}>\r\n      {message}\r\n    </div>\r\n  )\r\n  }\r\n}\r\n\r\nexport default Notification","import React, {useState, useEffect} from 'react'\r\nimport ListaJaSubmit from './ListaJaSubmit'\r\nimport Tulostus from './Tulostus'\r\nimport Filtteri from './Filtteri'\r\nimport palvelimenMetodit from './palvelimenMetodit'\r\nimport Notification from './Notification'\r\n\r\n\r\nconst OtsikonTulostus = ({aihe}) => {\r\n  return(\r\n    <h1>{aihe}</h1>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ uusiMuutos, setFilter ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ color, setColor ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    palvelimenMetodit\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <OtsikonTulostus aihe='rajausehto' />\r\n      <Notification message={errorMessage} color={color}/>\r\n      <Filtteri uusiMuutos={uusiMuutos} persons={persons} setFilter={setFilter}/>\r\n      <OtsikonTulostus aihe='Phonebook' />\r\n      <ListaJaSubmit persons={persons} newName={newName} newNumber={newNumber} uusiMuutos={uusiMuutos} setPersons={setPersons} setNewName={setNewName} setNewNumber={setNewNumber} setFilter={setFilter} setErrorMessage={setErrorMessage} setColor={setColor} color={color}/>\r\n      <OtsikonTulostus aihe='Numbers' />\r\n      <Tulostus persons={persons} uusiMuutos={uusiMuutos} setPersons={setPersons} setErrorMessage={setErrorMessage} setColor={setColor}/>\r\n  </div>\r\n  )\r\n}\r\nexport default App","import  React from 'react'\nimport App from './components/App'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}